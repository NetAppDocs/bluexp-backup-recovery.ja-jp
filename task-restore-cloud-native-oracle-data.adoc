---
sidebar: sidebar 
permalink: task-restore-cloud-native-oracle-data.html 
keywords: cloud native, application data, restore, data files, control files, recovery, Cloud Manager, BlueXP, Oracle database, Oracle 
summary: データファイル、制御ファイル、またはその両方をリストアし、データベースをリカバリします。 
---
= クラウドネイティブのOracleデータベースをリストアする
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
データ損失が発生した場合は、データファイル、制御ファイル、またはその両方をリストアして、データベースをリカバリできます。

* 必要なもの *

Oracle 21cデータベースがstarted状態の場合、リストア処理は失敗します。データベースをリストアするには、次のコマンドを実行する必要があります。
`cp -f <ORACLE_HOME>/jdbc/lib/ojdbc8.jar /opt/NetApp/snapcenter/spl/plugins/sco/lib ojdbc8-8.jar`

* 手順 *

. をクリックします image:icon-action.png["アイコンをクリックして操作を選択します"] リストアするデータベースに対応して、*詳細の表示*をクリックします。
. をクリックします image:icon-action.png["アイコンをクリックして操作を選択します"] リストアに使用するデータ・バックアップに対応して、*リストア*をクリックします。
. Restore Scopeセクションで、次の操作を実行します。
+
|===
| 状況 | 手順 


 a| 
データ・ファイルだけをリストアする場合
 a| 
[*すべてのデータファイル*]を選択します。



 a| 
制御ファイルだけをリストアする場合
 a| 
「*制御ファイル*」を選択します



 a| 
データ・ファイルと制御ファイルの両方をリストアする場合
 a| 
[*すべてのデータファイル*]および[*制御ファイル*]を選択します。

|===
+

NOTE: 制御ファイルを含むデータファイルのリストアや制御ファイルのみのリストアは、ASMレイアウトのiSCSIではサポートされていません。

+
また、［*強制的にインプレースリストア*］チェックボックスをオンにすることもできます。

+
SANレイアウトでは、SnapCenter Plug-in for OracleがASMディスクグループ上にOracleデータファイル以外の外部ファイルを検出すると、接続リストアとコピーリストアの方法が実行されます。外部ファイルには、次のタイプが1つ以上ある可能性があります。

+
** パラメータ
** パスワード
** アーカイブログ
** オンラインログ
** ASMパラメータファイル。
+
[*強制インプレースリストア*]オプションは、パラメータ、パスワード、アーカイブ・ログ・タイプの外部ファイルを上書きします。[強制的にインプレースリストア*]オプションを選択した場合は、最新のバックアップを使用する必要があります。



. リカバリ範囲セクションで、次の操作を実行します。
+
|===
| 状況 | 手順 


 a| 
最後のトランザクションまでリカバリする場合
 a| 
[ * すべてのログ * ] を選択します。



 a| 
特定の System Change Number （ SCN ）までリカバリする場合
 a| 
[システム変更番号まで（Until System Change Number）]*を選択し、SCNを指定します。



 a| 
特定の日時にリカバリする
 a| 
[ * 日付と時刻 * ] を選択します。



 a| 
リカバリが不要である場合
 a| 
「 * リカバリなし * 」を選択します。

|===
+
選択したリカバリ範囲の[アーカイブ・ログ・ファイルの場所*]フィールドでは'リカバリに必要なアーカイブ・ログが格納されている場所を任意で指定できます

+
リカバリ後にデータベースを読み取り/書き込みモードで開く場合は、チェックボックスを選択します。

. 「*次へ*」をクリックして詳細を確認します。
. [* リストア ] をクリックします。




== 制限

* 表領域とPDBのリストアなど、きめ細かなリストアはサポートしていません
* 一部のディスクグループに外部ファイルが含まれている場合は、In Placeリストア方式とConnect and Copyリストア方式の両方が使用されます。ただし、両方の方法を同時に使用したリストアの実行はサポートされていないため、リストア処理は失敗します。データベースはマウントされた状態のままになります。データベースを手動でオープン状態にする必要があります。
+
外部ファイルがあるために表示されないエラーメッセージは、既知の問題 が原因で、UIのジョブページに表示されません。SANのリストア前の段階でエラーが発生した場合は、コネクタログで問題 の原因 を確認します。


